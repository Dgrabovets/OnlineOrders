CREATE TABLE Clients 
(
	ID INT NOT NULL PRIMARY KEY IDENTITY,
	Surname NVARCHAR(50) NOT NULL,
	FirstName NVARCHAR(50) NOT NULL,
	MiddleName NVARCHAR(50),
	Sex CHAR(1) NOT NULL,
	BirthDate DATE NOT NULL,
	PhoneNumber NVARCHAR(12) UNIQUE NOT NULL,
	Email NVARCHAR(100) UNIQUE
);

CREATE TABLE Orders 
(
	ID INT NOT NULL PRIMARY KEY IDENTITY,
	CreatedAt DATETIME NOT NULL,
	Total DECIMAL NOT NULL,
	ClientID INT NOT NULL,
	FOREIGN KEY(ClientID) REFERENCES Clients(ID) ON DELETE CASCADE,
	OrderStatus NVARCHAR(15) NOT NULL,
	Comment NVARCHAR(MAX)
)

CREATE TABLE Products
(
	ID INT NOT NULL PRIMARY KEY,
	Quantity INT NOT NULL,
	Price INT NOT NULL
)

CREATE TABLE Orders_Products
(
	OrderID INT NOT NULL,
	ProductID INT NOT NULL,
	FOREIGN KEY (OrderID) REFERENCES Orders (ID) ON DELETE CASCADE,
	FOREIGN KEY (ProductID) REFERENCES Products (ID) ON DELETE CASCADE,
	Quantity INT NOT NULL
)